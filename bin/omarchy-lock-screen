#!/bin/bash

# Lock the screen
pidof hyprlock || hyprlock &

# Ensure password manager is locked
case "$PASSWORD_MANAGER" in
"1password" | "keepassxc") pgrep -x "$PASSWORD_MANAGER" >/dev/null && $PASSWORD_MANAGER --lock & ;;
"bitwarden") bw lock & ;;
*) ;;
esac

# Avoid running screensaver when locked
pkill -f "alacritty --class Screensaver"
