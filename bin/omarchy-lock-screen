#!/bin/bash

# Lock the screen
pidof hyprlock || hyprlock &

# Ensure password manager is locked
if pgrep -x "$PASSWORD_MANAGER" >/dev/null; then
  case "$PASSWORD_MANAGER" in
  "1password" | "keepassxc") $PASSWORD_MANAGER --lock & ;;
  "bitwarden") bw lock & ;;
  *) ;;
  esac
fi

# Avoid running screensaver when locked
pkill -f "alacritty --class Screensaver"
